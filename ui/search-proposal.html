<!DOCTYPE html>
<html lang="vi">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>T√¨m Ki·∫øm D·ª± √Ån - FreelancerConnect 5Stars</title>
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }
      body {
        font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        background-color: #f8f9fa;
      }
      .header {
        background: linear-gradient(135deg, #007bff, #0056b3);
        color: white;
        padding: 20px 0;
        text-align: center;
      }
      .container {
        max-width: 1200px;
        margin: 0 auto;
        padding: 20px;
      }
      .search-section {
        background: white;
        padding: 30px;
        border-radius: 10px;
        box-shadow: 0 2px 15px rgba(0, 0, 0, 0.1);
        margin-bottom: 30px;
      }
      .search-bar {
        display: flex;
        gap: 15px;
        margin-bottom: 20px;
      }
      .search-input {
        flex: 1;
        padding: 12px;
        border: 2px solid #e0e0e0;
        border-radius: 8px;
        font-size: 16px;
      }
      .search-btn {
        background: #007bff;
        color: white;
        border: none;
        padding: 12px 30px;
        border-radius: 8px;
        cursor: pointer;
        font-size: 16px;
      }
      .filters {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
        gap: 15px;
      }
      .filter-group {
        display: flex;
        flex-direction: column;
      }
      .filter-group label {
        margin-bottom: 5px;
        font-weight: 600;
        color: #555;
      }
      .filter-group select,
      .filter-group input {
        padding: 8px;
        border: 1px solid #ddd;
        border-radius: 5px;
      }
      .projects-grid {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
        gap: 20px;
        margin-bottom: 30px;
      }
      .project-card {
        background: white;
        border-radius: 10px;
        padding: 20px;
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        transition: transform 0.3s ease;
      }
      .project-card:hover {
        transform: translateY(-5px);
      }
      .project-title {
        font-size: 18px;
        font-weight: bold;
        color: #333;
        margin-bottom: 10px;
      }
      .project-category {
        background: #e3f2fd;
        color: #1976d2;
        padding: 4px 8px;
        border-radius: 15px;
        font-size: 12px;
        display: inline-block;
        margin-bottom: 10px;
      }
      .project-description {
        color: #666;
        line-height: 1.5;
        margin-bottom: 15px;
        overflow: hidden;
        text-overflow: ellipsis;
        display: -webkit-box;
        -webkit-line-clamp: 3;
        -webkit-box-orient: vertical;
      }
      .project-meta {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 15px;
      }
      .project-budget {
        font-weight: bold;
        color: #28a745;
      }
      .project-duration {
        color: #666;
        font-size: 14px;
      }
      .project-skills {
        margin-bottom: 15px;
      }
      .skill-tag {
        background: #f8f9fa;
        color: #495057;
        padding: 2px 8px;
        border-radius: 12px;
        font-size: 12px;
        margin-right: 5px;
        display: inline-block;
        margin-bottom: 5px;
      }
      .proposal-section {
        border-top: 1px solid #eee;
        padding-top: 15px;
      }
      .proposal-btn {
        background: #28a745;
        color: white;
        border: none;
        padding: 10px 20px;
        border-radius: 5px;
        cursor: pointer;
        width: 100%;
        font-size: 14px;
      }
      .proposal-btn:hover {
        background: #218838;
      }
      .modal {
        display: none;
        position: fixed;
        z-index: 1000;
        left: 0;
        top: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(0, 0, 0, 0.5);
      }
      .modal-content {
        background-color: white;
        margin: 5% auto;
        padding: 30px;
        border-radius: 10px;
        width: 80%;
        max-width: 600px;
        max-height: 80vh;
        overflow-y: auto;
      }
      .close {
        color: #aaa;
        float: right;
        font-size: 28px;
        font-weight: bold;
        cursor: pointer;
      }
      .close:hover {
        color: black;
      }
      .proposal-form {
        margin-top: 20px;
      }
      .form-group {
        margin-bottom: 20px;
      }
      .form-group label {
        display: block;
        margin-bottom: 5px;
        font-weight: bold;
      }
      .form-group input,
      .form-group textarea {
        width: 100%;
        padding: 10px;
        border: 1px solid #ddd;
        border-radius: 5px;
      }
      .form-group textarea {
        height: 120px;
        resize: vertical;
      }
      .results-count {
        margin-bottom: 20px;
        color: #666;
        font-size: 14px;
      }
    </style>
  </head>
  <body>
    <div class="header">
      <h1>üîç T√¨m Ki·∫øm D·ª± √Ån & N·ªôp Proposal</h1>
      <p>Kh√°m ph√° h√†ng ng√†n d·ª± √°n ph√π h·ª£p v·ªõi k·ªπ nƒÉng c·ªßa b·∫°n</p>
    </div>

    <div class="container">
      <!-- Search Section -->
      <div class="search-section">
        <div class="search-bar">
          <input
            type="text"
            class="search-input"
            id="searchInput"
            placeholder="T√¨m ki·∫øm d·ª± √°n theo t·ª´ kh√≥a..."
          />
          <button class="search-btn" onclick="searchProjects()">
            üîç T√¨m ki·∫øm
          </button>
        </div>

        <div class="filters">
          <div class="filter-group">
            <label>Danh m·ª•c</label>
            <select id="categoryFilter">
              <option value="">T·∫•t c·∫£ danh m·ª•c</option>
              <option value="web-development">Ph√°t tri·ªÉn Web</option>
              <option value="mobile-app">·ª®ng d·ª•ng Mobile</option>
              <option value="design">Thi·∫øt k·∫ø</option>
              <option value="marketing">Marketing</option>
              <option value="writing">Vi·∫øt n·ªôi dung</option>
              <option value="data-analysis">Ph√¢n t√≠ch d·ªØ li·ªáu</option>
            </select>
          </div>

          <div class="filter-group">
            <label>Ng√¢n s√°ch t·ªëi thi·ªÉu</label>
            <input type="number" id="minBudget" placeholder="VNƒê" min="0" />
          </div>

          <div class="filter-group">
            <label>Ng√¢n s√°ch t·ªëi ƒëa</label>
            <input type="number" id="maxBudget" placeholder="VNƒê" min="0" />
          </div>

          <div class="filter-group">
            <label>Th·ªùi gian t·ªëi ƒëa</label>
            <select id="durationFilter">
              <option value="">Kh√¥ng gi·ªõi h·∫°n</option>
              <option value="7">D∆∞·ªõi 1 tu·∫ßn</option>
              <option value="30">D∆∞·ªõi 1 th√°ng</option>
              <option value="90">D∆∞·ªõi 3 th√°ng</option>
            </select>
          </div>
        </div>
      </div>

      <!-- Results Count -->
      <div class="results-count" id="resultsCount">
        T√¨m th·∫•y <strong>12</strong> d·ª± √°n ph√π h·ª£p
      </div>

      <!-- Projects Grid -->
      <div class="projects-grid" id="projectsGrid">
        <!-- Sample projects will be loaded here -->
      </div>
    </div>

    <!-- Proposal Modal -->
    <div id="proposalModal" class="modal">
      <div class="modal-content">
        <span class="close">&times;</span>
        <h2>üìù G·ª≠i Proposal</h2>
        <div id="projectInfo"></div>

        <form class="proposal-form" id="proposalForm">
          <div class="form-group">
            <label>Gi√° ƒë·ªÅ xu·∫•t (VNƒê) *</label>
            <input
              type="number"
              id="proposalPrice"
              required
              min="100000"
              placeholder="Nh·∫≠p gi√° b·∫°n mu·ªën nh·∫≠n cho d·ª± √°n n√†y"
            />
          </div>

          <div class="form-group">
            <label>Th·ªùi gian ho√†n th√†nh (ng√†y) *</label>
            <input
              type="number"
              id="proposalDuration"
              required
              min="1"
              placeholder="S·ªë ng√†y b·∫°n c·∫ßn ƒë·ªÉ ho√†n th√†nh"
            />
          </div>

          <div class="form-group">
            <label>M√¥ t·∫£ proposal *</label>
            <textarea
              id="proposalDescription"
              required
              placeholder="M√¥ t·∫£ c√°ch b·∫°n s·∫Ω th·ª±c hi·ªán d·ª± √°n, kinh nghi·ªám li√™n quan, v√† t·∫°i sao b·∫°n l√† ·ª©ng vi√™n ph√π h·ª£p..."
            ></textarea>
          </div>

          <div class="form-group">
            <label>Portfolio/M·∫´u c√¥ng vi·ªác</label>
            <input
              type="url"
              id="portfolioLink"
              placeholder="https://portfolio.com ho·∫∑c link ƒë·∫øn c√¥ng vi·ªác t∆∞∆°ng t·ª±"
            />
          </div>

          <button type="submit" class="proposal-btn">üöÄ G·ª≠i Proposal</button>
        </form>
      </div>
    </div>

    <script>
      // Sample project data
      const sampleProjects = [
        {
          id: 1,
          title: 'Thi·∫øt k·∫ø website b√°n h√†ng online',
          category: 'web-development',
          description:
            'C·∫ßn thi·∫øt k·∫ø v√† ph√°t tri·ªÉn website b√°n h√†ng online v·ªõi t√≠nh nƒÉng thanh to√°n, qu·∫£n l√Ω s·∫£n ph·∫©m, v√† h·ªá th·ªëng ƒë∆°n h√†ng ho√†n ch·ªânh.',
          budget: { min: 5000000, max: 10000000 },
          duration: 30,
          skills: ['React', 'Node.js', 'MySQL', 'Payment Gateway'],
          postedDate: '2 ng√†y tr∆∞·ªõc',
          proposalsCount: 8,
        },
        {
          id: 2,
          title: '·ª®ng d·ª•ng mobile theo d√µi s·ª©c kh·ªèe',
          category: 'mobile-app',
          description:
            'Ph√°t tri·ªÉn ·ª©ng d·ª•ng mobile ƒë·ªÉ theo d√µi s·ª©c kh·ªèe c√° nh√¢n, bao g·ªìm t√≠nh nƒÉng ƒëo nh·ªãp tim, b∆∞·ªõc ch√¢n, v√† nh·∫Øc nh·ªü u·ªëng n∆∞·ªõc.',
          budget: { min: 8000000, max: 15000000 },
          duration: 45,
          skills: ['Flutter', 'Firebase', 'Health APIs', 'UI/UX'],
          postedDate: '1 ng√†y tr∆∞·ªõc',
          proposalsCount: 3,
        },
        {
          id: 3,
          title: 'Thi·∫øt k·∫ø logo v√† b·ªô nh·∫≠n di·ªán th∆∞∆°ng hi·ªáu',
          category: 'design',
          description:
            'Thi·∫øt k·∫ø logo chuy√™n nghi·ªáp v√† b·ªô nh·∫≠n di·ªán th∆∞∆°ng hi·ªáu ho√†n ch·ªânh cho c√¥ng ty startup c√¥ng ngh·ªá.',
          budget: { min: 2000000, max: 5000000 },
          duration: 14,
          skills: ['Illustrator', 'Photoshop', 'Brand Design', 'Typography'],
          postedDate: '3 gi·ªù tr∆∞·ªõc',
          proposalsCount: 12,
        },
        {
          id: 4,
          title: 'Chi·∫øn l∆∞·ª£c Marketing cho s·∫£n ph·∫©m m·ªõi',
          category: 'marketing',
          description:
            'X√¢y d·ª±ng chi·∫øn l∆∞·ª£c marketing to√†n di·ªán cho vi·ªác ra m·∫Øt s·∫£n ph·∫©m m·ªõi tr√™n th·ªã tr∆∞·ªùng Vi·ªát Nam.',
          budget: { min: 3000000, max: 7000000 },
          duration: 21,
          skills: [
            'Digital Marketing',
            'Content Strategy',
            'SEO',
            'Social Media',
          ],
          postedDate: '5 ng√†y tr∆∞·ªõc',
          proposalsCount: 6,
        },
      ];

      let currentProjects = [...sampleProjects];
      let selectedProject = null;

      // Load projects on page load
      document.addEventListener('DOMContentLoaded', function () {
        displayProjects(currentProjects);
        setupEventListeners();
      });

      function setupEventListeners() {
        // Search functionality
        document
          .getElementById('searchInput')
          .addEventListener('input', searchProjects);
        document
          .getElementById('categoryFilter')
          .addEventListener('change', searchProjects);
        document
          .getElementById('minBudget')
          .addEventListener('input', searchProjects);
        document
          .getElementById('maxBudget')
          .addEventListener('input', searchProjects);
        document
          .getElementById('durationFilter')
          .addEventListener('change', searchProjects);

        // Modal functionality
        const modal = document.getElementById('proposalModal');
        const closeBtn = document.getElementsByClassName('close')[0];

        closeBtn.onclick = function () {
          modal.style.display = 'none';
        };

        window.onclick = function (event) {
          if (event.target == modal) {
            modal.style.display = 'none';
          }
        };

        // Proposal form submission
        document
          .getElementById('proposalForm')
          .addEventListener('submit', function (e) {
            e.preventDefault();
            submitProposal();
          });
      }

      function displayProjects(projects) {
        const grid = document.getElementById('projectsGrid');
        const resultsCount = document.getElementById('resultsCount');

        resultsCount.innerHTML = `T√¨m th·∫•y <strong>${projects.length}</strong> d·ª± √°n ph√π h·ª£p`;

        grid.innerHTML = projects
          .map(
            (project) => `
                <div class="project-card">
                    <div class="project-title">${project.title}</div>
                    <div class="project-category">${getCategoryName(
                      project.category
                    )}</div>
                    <div class="project-description">${
                      project.description
                    }</div>
                    
                    <div class="project-meta">
                        <div class="project-budget">
                            ${formatCurrency(
                              project.budget.min
                            )} - ${formatCurrency(project.budget.max)} VNƒê
                        </div>
                        <div class="project-duration">‚è∞ ${
                          project.duration
                        } ng√†y</div>
                    </div>
                    
                    <div class="project-skills">
                        ${project.skills
                          .map(
                            (skill) => `<span class="skill-tag">${skill}</span>`
                          )
                          .join('')}
                    </div>
                    
                    <div style="font-size: 12px; color: #999; margin-bottom: 10px;">
                        üìÖ ${project.postedDate} ‚Ä¢ üìä ${
              project.proposalsCount
            } proposals
                    </div>
                    
                    <div class="proposal-section">
                        <button class="proposal-btn" onclick="openProposalModal(${
                          project.id
                        })">
                            üí° G·ª≠i Proposal
                        </button>
                    </div>
                </div>
            `
          )
          .join('');
      }

      function searchProjects() {
        const searchTerm = document
          .getElementById('searchInput')
          .value.toLowerCase();
        const category = document.getElementById('categoryFilter').value;
        const minBudget =
          parseFloat(document.getElementById('minBudget').value) || 0;
        const maxBudget =
          parseFloat(document.getElementById('maxBudget').value) || Infinity;
        const maxDuration =
          parseInt(document.getElementById('durationFilter').value) || Infinity;

        const filtered = sampleProjects.filter((project) => {
          const matchesSearch =
            project.title.toLowerCase().includes(searchTerm) ||
            project.description.toLowerCase().includes(searchTerm) ||
            project.skills.some((skill) =>
              skill.toLowerCase().includes(searchTerm)
            );

          const matchesCategory = !category || project.category === category;
          const matchesBudget =
            project.budget.min >= minBudget && project.budget.max <= maxBudget;
          const matchesDuration = project.duration <= maxDuration;

          return (
            matchesSearch && matchesCategory && matchesBudget && matchesDuration
          );
        });

        currentProjects = filtered;
        displayProjects(currentProjects);
      }

      function openProposalModal(projectId) {
        selectedProject = sampleProjects.find((p) => p.id === projectId);
        const modal = document.getElementById('proposalModal');
        const projectInfo = document.getElementById('projectInfo');

        projectInfo.innerHTML = `
                <div style="background: #f8f9fa; padding: 15px; border-radius: 5px; margin-bottom: 20px;">
                    <h3>${selectedProject.title}</h3>
                    <p><strong>Ng√¢n s√°ch:</strong> ${formatCurrency(
                      selectedProject.budget.min
                    )} - ${formatCurrency(selectedProject.budget.max)} VNƒê</p>
                    <p><strong>Th·ªùi gian:</strong> ${
                      selectedProject.duration
                    } ng√†y</p>
                    <p><strong>M√¥ t·∫£:</strong> ${
                      selectedProject.description
                    }</p>
                </div>
            `;

        modal.style.display = 'block';
      }

      function submitProposal() {
        const price = document.getElementById('proposalPrice').value;
        const duration = document.getElementById('proposalDuration').value;
        const description = document.getElementById(
          'proposalDescription'
        ).value;
        const portfolio = document.getElementById('portfolioLink').value;

        if (!price || !duration || !description) {
          alert('‚ö†Ô∏è Vui l√≤ng ƒëi·ªÅn ƒë·∫ßy ƒë·ªß th√¥ng tin b·∫Øt bu·ªôc!');
          return;
        }

        // Simulate API call
        alert(
          `üéâ Proposal ƒë√£ ƒë∆∞·ª£c g·ª≠i th√†nh c√¥ng!\n\nD·ª± √°n: ${
            selectedProject.title
          }\nGi√°: ${formatCurrency(
            price
          )} VNƒê\nTh·ªùi gian: ${duration} ng√†y\n\nB·∫°n s·∫Ω nh·∫≠n ƒë∆∞·ª£c th√¥ng b√°o khi client ph·∫£n h·ªìi.`
        );

        // Close modal and reset form
        document.getElementById('proposalModal').style.display = 'none';
        document.getElementById('proposalForm').reset();
      }

      function getCategoryName(category) {
        const categories = {
          'web-development': 'Ph√°t tri·ªÉn Web',
          'mobile-app': '·ª®ng d·ª•ng Mobile',
          design: 'Thi·∫øt k·∫ø',
          marketing: 'Marketing',
          writing: 'Vi·∫øt n·ªôi dung',
          'data-analysis': 'Ph√¢n t√≠ch d·ªØ li·ªáu',
        };
        return categories[category] || category;
      }

      function formatCurrency(amount) {
        return new Intl.NumberFormat('vi-VN').format(amount);
      }
    </script>
  </body>
</html>
